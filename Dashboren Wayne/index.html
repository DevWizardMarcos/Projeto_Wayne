<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wayne Industries Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/gotham.css">
    <link rel="stylesheet" href="css/perfil.css">
    <link rel="stylesheet" href="css/analise.css">
</head>

<body>
    <div id="bg">
        <div id="secundary-bg">
            <!-- <header><img src="assets/img/background.PNG" alt=""> -->
            <!-- <img src="assets/img/logo.png" alt=""> -->
            <!-- <img src="assets/img/background.png" alt=""> -->
            </header>
        </div>
    </div>




    <div class="dashboard-container">
        <div class="sis-status panel">
            <h2>SIS STATUS</h2>
            <div class="status-item">
                <label>Status 1</label>
                <div class="progress-bar">
                    <div class="progress" style="width: 85%"></div>
                </div>
            </div>
            <div class="status-item">
                <label>Status 2</label>
                <div class="progress-bar">
                    <div class="progress" style="width: 45%"></div>
                </div>
            </div>
            <div class="status-item">
                <label>Status 3</label>
                <div class="progress-bar">
                                                <source src="assets/video/gotham-3d.mp4" type="video/mp4">

                    <div class="progress" style="width: 70%"></div>
                </div>
            </div>
            <div class="status-item">
                <label>Status 4</label>
                <div class="progress-bar">
                    <div class="progress" style="width: 30%"></div>
                </div>
            </div>
        </div>

        <div class="perfil panel">
            <h2>PERFIL</h2>
            <button class="btn btn-secondary" id="abrirPerfilModal">
                Analisar Vilões
            </button>
            <div class="perfil-content">
            </div>
        </div>

        <div class="main-display panel">
            <div class="main-content">
            </div>
        </div>

        <div class="wayne-tech panel">
            <h2>WAYNE TECH</h2>
            <div class="tech-display">
                <ul class="tech-list">
                    <li>
                        <span data-bs-toggle="modal" data-bs-target="#batmovelModal" style="cursor:pointer;">Batmóvel</span>
                        <span class="status-ok">Operacional</span>
                    </li>
                    <li>Batcomputador <span class="status-active">Operacional</span></li>
                    <li>Drones de Vigilância <span class="status-ok">Operacional</span></li>
                </ul>
                <div class="projects">
                    <h3>Projetos em Andamento</h3>
                    <ul>
                        <li>Nova armadura tática</li>
                        <li>Sistema de IA para análise criminal</li>
                    </ul>
                </div>
                <!-- Estatísticas -->
                <div class="stats">
                    <p>Patentes registradas: <strong>128</strong></p>
                    <p>Engenheiros: <strong>54</strong></p>
                </div>
            </div>
        </div>

        <div class="gotham-city panel">
            <h2>GOTHAM CITY</h2>
            <div class="city-display">
            </div>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#gothamModal">
                Ver Gotham em tempo real
            </button>
        </div>

        <div class="analise panel">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <h2>ANÁLISE</h2>
                <button class="btn btn-outline-info btn-sm" id="abrirAnaliseModal">
                    <i class="fas fa-search"></i> Ver Análise Completa
                </button>
            </div>
            <div class="analise-content"></div>
        </div>
    </div>

    <!-- Modal do Batmóvel com CRUD -->
    <div class="modal fade" id="batmovelModal" tabindex="-1" aria-labelledby="batmovelModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="batmovelModalLabel">
                        <i class="fas fa-car"></i> Galeria de Batmóveis
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body batmovel-modal-body">
                    <!-- Abas -->
                    <ul class="nav nav-tabs mb-3" id="batmovelTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="view-tab" data-bs-toggle="tab" data-bs-target="#view-pane"
                                type="button" role="tab">Visualizar</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="manage-tab" data-bs-toggle="tab" data-bs-target="#manage-pane"
                                type="button" role="tab">Gerenciar</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="add-tab" data-bs-toggle="tab" data-bs-target="#add-pane"
                                type="button" role="tab">Adicionar</button>
                        </li>
                    </ul>
                    <div class="tab-content" id="batmovelTabContent">
                        <div class="tab-pane fade show active" id="view-pane" role="tabpanel">
                            <div class="batmovel-carousel-container">
                                <button class="carousel-btn" id="prev-batmovel"><i class="fas fa-chevron-left"></i></button>
                                <div class="batmovel-display">
                                    <img id="batmovel-img" src="" alt="Batmóvel" />
                                    <h5 id="batmovel-caption"></h5>
                                    <span class="badge" id="batmovel-counter"></span>
                                </div>
                                <button class="carousel-btn" id="next-batmovel"><i class="fas fa-chevron-right"></i></button>
                            </div>
                        </div>
                        <!-- Gerenciar -->
                        <div class="tab-pane fade" id="manage-pane" role="tabpanel">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <button class="btn btn-success btn-sm" onclick="exportBatmovelData()">
                                    <i class="fas fa-download"></i> Exportar
                                </button>
                                <label class="btn btn-info btn-sm mb-0">
                                    <i class="fas fa-upload"></i> Importar
                                    <input type="file" id="import-file" accept=".json" style="display:none;">
                                </label>
                            </div>
                            <div id="batmovel-list" class="batmovel-list-container"></div>
                        </div>
                        <!-- Adicionar -->
                        <div class="tab-pane fade" id="add-pane" role="tabpanel">
                            <form id="add-batmovel-form" autocomplete="off">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="new-batmovel-src" class="form-label">URL da Imagem</label>
                                        <input type="url" class="form-control" id="new-batmovel-src" required
                                            placeholder="https://exemplo.com/imagem.jpg">
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <label for="new-batmovel-legenda" class="form-label">Legenda</label>
                                        <input type="text" class="form-control" id="new-batmovel-legenda" required
                                            placeholder="Ex: Batmóvel 2024">
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <label for="new-batmovel-ano" class="form-label">Ano</label>
                                        <input type="number" class="form-control" id="new-batmovel-ano" required min="1939"
                                            max="2030" placeholder="2024">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 d-flex justify-content-end">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-plus"></i> Adicionar Batmóvel
                                        </button>
                                    </div>
                                </div>
                            </form>
                            <div class="mt-4">
                                <h6>Preview:</h6>
                                <div class="preview-container">
                                    <img id="preview-img" src="" alt="Preview" class="preview-image" style="display:none;">
                                    <div id="preview-placeholder" class="preview-placeholder">
                                        <i class="fas fa-image fa-3x"></i>
                                        <p>Digite uma URL válida para ver o preview</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Gotham em tempo real -->
    <div class="modal fade" id="gothamModal" tabindex="-1" aria-labelledby="gothamModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="gothamModalLabel">
                        <i class="fas fa-city"></i> Gotham em Tempo Real
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- conteúdo de Gotham -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Perfil dos Vilões -->
    <div class="modal fade" id="perfilModal" tabindex="-1" aria-labelledby="perfilModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="perfilModalLabel">
                        <i class="fas fa-mask"></i> Vilões de Gotham - Pré-Análise
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="perfil-modal-body">
                    <!-- Cards dos vilões serão inseridos aqui via JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes da Ameaça -->
    <div class="modal fade" id="ameacaModal" tabindex="-1" aria-labelledby="ameacaModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="ameacaModalLabel">Detalhes da Ameaça</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="ameaca-modal-body">
                    <!-- Conteúdo dinâmico -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Análise Completa -->
    <div class="modal fade" id="analiseModal" tabindex="-1" aria-labelledby="analiseModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="analiseModalLabel">
                        <i class="fas fa-search"></i> Análise Completa do Batcomputador
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="analise-modal-body">
                    <!-- Conteúdo dinâmico será inserido aqui -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/gotham.js"></script>
    <script src="js/perfil.js"></script>
    <script src="js/analise.js"></script>

    </body>

</html>